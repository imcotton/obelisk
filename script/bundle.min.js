(function(e){function k(){new l($("#data-present"))}var m=Object.assign||function(b){for(var a,c=1,f=arguments.length;c<f;c++){a=arguments[c];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d])}return b};new (function(){function b(){var a=this;this.get=function(c){var f;f=(f=(e.document.cookie.match(/(github_access_token=)([a-z0-9]{30,})/)||[""]).pop())?{Authorization:"token "+f}:{};return a.ajax.get(c,m({},f))}}Object.defineProperty(b.prototype,"ajax",{get:function(){return Rx.Observable.ajax},
enumerable:!0,configurable:!0});return b}());var l=function(){function b(a){this.$node=a;this.$sheet=this.$node.find("[sheet]");this.$commitEntry=this.$sheet.find("[commit-entry]").detach();this.$repoEntry=this.$sheet.find("[entry]").detach();this.$node.removeClass("hidden");this.load(this.$node.data("load"))}b.prototype.load=function(a){var c=this;void 0===a&&(a="");Rx.Observable.ajax(a).flatMap(function(a){return a.response}).subscribe(function(a){return c.append(a.repo,a.commits)})};b.prototype.append=
function(a,c){var b=this;this.updateCounter(~~!!a,c.length);var d=this.$repoEntry.clone(),g=[a.full_name.replace("/"+a.name,""),a.name],e=g[0],g=g[1];d.find("[repo]").find("[names]").attr("href",a.html_url).end().find("[author]").text(e).end().find("[project]").text(g).end().find("[description]").text(a.description).end().find("[language]").text(a.language).end().find("[star]").text(a.stargazers_count.toLocaleString()).end().find("[fork]").text(a.forks_count.toLocaleString()).end();d.find("[commits]").append(c.sort(function(a,
b){a=a.date.valueOf();b=b.date.valueOf();return a===b?0:a>b?1:-1}).reverse().map(function(a){var c=b.$commitEntry.clone();c.find("[title]").text(a.title).end().find("[date]").text((new Date(a.date)).toDateString()).end().find("[sha]").text(a.sha.slice(0,7)).end().find("[link]").attr("href",a.html_url).end().find("[avatar] [author]").attr("src",a.author.avatar_url+"\x26s\x3d72").end();var d=c.find("[avatar] [committer]");a.author.id===a.committer.id?d.remove():d.attr("src",a.committer.avatar_url+"\x26s\x3d32");
return c}));this.$sheet.append(d)};b.prototype.updateCounter=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.$node.find("[header-bar] [repos]").text(function(b,c){return""+(~~c+a)});this.$node.find("[header-bar] [commits]").text(function(a,c){return""+(~~c+b)})};return b}();(function(b){var a=e.setTimeout,c=255,f=Date.now();return new Promise(function(d,e){function g(){var h=Date.now()-f;if(!0===b().every(Boolean))return d(h);if(1>c--)return e(h);a(g,66)}g()})})(function(){return[e.Rx,e.jQuery]}).then(function(){$(k)}).catch(function(b){console.error("[failed after "+
b+"ms]")})})(window,null,null);
