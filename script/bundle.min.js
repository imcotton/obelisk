(function(b){b=b&&b.hasOwnProperty("default")?b["default"]:b;var g=function(){function b(a){this.$node=a;this.$sheet=this.$node.find("[sheet]");this.$commitEntry=this.$sheet.find("[commit-entry]").detach();this.$repoEntry=this.$sheet.find("[entry]").detach();this.$node.removeClass("hidden");this.load(this.$node.data("load"))}b.prototype.load=function(a){var b=this;void 0===a&&(a="");fetch(a).then(function(a){return a.json()}).then(function(a){a.forEach(function(a){return b.append(a.repo,a.commits)})})};
b.prototype.append=function(a,b){var f=this;this.updateCounter(~~!!a,b.length);var c=this.$repoEntry.clone(),d=[a.full_name.replace("/"+a.name,""),a.name],e=d[0];d=d[1];c.find("[repo]").find("[names]").attr("href",a.html_url).end().find("[author]").text(e).end().find("[project]").text(d).end().find("[description]").text(a.description).end().find("[language]").text(a.language).end().find("[star]").text(a.stargazers_count.toLocaleString()).end().find("[fork]").text(a.forks_count.toLocaleString()).end();
c.find("[commits]").append(b.sort(function(a,b){a=a.date.valueOf();b=b.date.valueOf();return a===b?0:a>b?1:-1}).reverse().map(function(a){var b=f.$commitEntry.clone();b.find("[title]").text(a.title).end().find("[date]").text((new Date(a.date)).toDateString()).end().find("[sha]").text(a.sha.slice(0,7)).end().find("[link]").attr("href",a.html_url).end().find("[avatar] [author]").attr("src",a.author.avatar_url+"&s=72").end();var c=b.find("[avatar] [committer]");a.author.id===a.committer.id?c.remove():
c.attr("src",a.committer.avatar_url+"&s=32");return b}));this.$sheet.append(c)};b.prototype.updateCounter=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.$node.find("[header-bar] [repos]").text(function(b,c){return""+(~~c+a)});this.$node.find("[header-bar] [commits]").text(function(a,c){return""+(~~c+b)})};return b}();b.jQuery(document).ready(function(b){new g(b("#data-present"))})})(window);
